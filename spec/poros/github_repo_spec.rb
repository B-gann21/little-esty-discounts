require 'rails_helper'

RSpec.describe GithubRepo do
  before do
    @data = {
      :id=>479468784,
      :node_id=>"R_kgDOHJQc8A",
      :name=>"little-esty-shop",
      :full_name=>"B-gann21/little-esty-shop",
      :private=>false,
      :owner=>{
        :login=>"B-gann21",
        :id=>94757433,
        :node_id=>"U_kgDOBaXiOQ",
        :avatar_url=>"https://avatars.githubusercontent.com/u/94757433?v=4",
        :gravatar_id=>"",
        :url=>"https://api.github.com/users/B-gann21",
        :html_url=>"https://github.com/B-gann21",
        :followers_url=>"https://api.github.com/users/B-gann21/followers",
        :following_url=>"https://api.github.com/users/B-gann21/following{/other_user}",
        :gists_url=>"https://api.github.com/users/B-gann21/gists{/gist_id}",
        :starred_url=>"https://api.github.com/users/B-gann21/starred{/owner}{/repo}",
        :subscriptions_url=>"https://api.github.com/users/B-gann21/subscriptions",
        :organizations_url=>"https://api.github.com/users/B-gann21/orgs",
        :repos_url=>"https://api.github.com/users/B-gann21/repos",
        :events_url=>"https://api.github.com/users/B-gann21/events{/privacy}",
        :received_events_url=>"https://api.github.com/users/B-gann21/received_events",
        :type=>"User",
        :site_admin=>false
        },
      :html_url=>"https://github.com/B-gann21/little-esty-shop",
      :description=>nil,
      :fork=>true,
      :url=>"https://api.github.com/repos/B-gann21/little-esty-shop",
      :forks_url=>"https://api.github.com/repos/B-gann21/little-esty-shop/forks",
      :keys_url=>"https://api.github.com/repos/B-gann21/little-esty-shop/keys{/key_id}",
      :collaborators_url=>"https://api.github.com/repos/B-gann21/little-esty-shop/collaborators{/collaborator}",
      :teams_url=>"https://api.github.com/repos/B-gann21/little-esty-shop/teams",
      :hooks_url=>"https://api.github.com/repos/B-gann21/little-esty-shop/hooks",
      :issue_events_url=>"https://api.github.com/repos/B-gann21/little-esty-shop/issues/events{/number}",
      :events_url=>"https://api.github.com/repos/B-gann21/little-esty-shop/events",
      :assignees_url=>"https://api.github.com/repos/B-gann21/little-esty-shop/assignees{/user}",
      :branches_url=>"https://api.github.com/repos/B-gann21/little-esty-shop/branches{/branch}",
      :tags_url=>"https://api.github.com/repos/B-gann21/little-esty-shop/tags",
      :blobs_url=>"https://api.github.com/repos/B-gann21/little-esty-shop/git/blobs{/sha}",
      :git_tags_url=>"https://api.github.com/repos/B-gann21/little-esty-shop/git/tags{/sha}",
      :git_refs_url=>"https://api.github.com/repos/B-gann21/little-esty-shop/git/refs{/sha}",
      :trees_url=>"https://api.github.com/repos/B-gann21/little-esty-shop/git/trees{/sha}",
      :statuses_url=>"https://api.github.com/repos/B-gann21/little-esty-shop/statuses/{sha}",
      :languages_url=>"https://api.github.com/repos/B-gann21/little-esty-shop/languages",
      :stargazers_url=>"https://api.github.com/repos/B-gann21/little-esty-shop/stargazers",
      :contributors_url=>"https://api.github.com/repos/B-gann21/little-esty-shop/contributors",
      :subscribers_url=>"https://api.github.com/repos/B-gann21/little-esty-shop/subscribers",
      :subscription_url=>"https://api.github.com/repos/B-gann21/little-esty-shop/subscription",
      :commits_url=>"https://api.github.com/repos/B-gann21/little-esty-shop/commits{/sha}",
      :git_commits_url=>"https://api.github.com/repos/B-gann21/little-esty-shop/git/commits{/sha}",
      :comments_url=>"https://api.github.com/repos/B-gann21/little-esty-shop/comments{/number}",
      :issue_comment_url=>"https://api.github.com/repos/B-gann21/little-esty-shop/issues/comments{/number}",
      :contents_url=>"https://api.github.com/repos/B-gann21/little-esty-shop/contents/{+path}",
      :compare_url=>"https://api.github.com/repos/B-gann21/little-esty-shop/compare/{base}...{head}",
      :merges_url=>"https://api.github.com/repos/B-gann21/little-esty-shop/merges",
      :archive_url=>"https://api.github.com/repos/B-gann21/little-esty-shop/{archive_format}{/ref}",
      :downloads_url=>"https://api.github.com/repos/B-gann21/little-esty-shop/downloads",
      :issues_url=>"https://api.github.com/repos/B-gann21/little-esty-shop/issues{/number}",
      :pulls_url=>"https://api.github.com/repos/B-gann21/little-esty-shop/pulls{/number}",
      :milestones_url=>"https://api.github.com/repos/B-gann21/little-esty-shop/milestones{/number}",
      :notifications_url=>"https://api.github.com/repos/B-gann21/little-esty-shop/notifications{?since,all,participating}",
      :labels_url=>"https://api.github.com/repos/B-gann21/little-esty-shop/labels{/name}",
      :releases_url=>"https://api.github.com/repos/B-gann21/little-esty-shop/releases{/id}",
      :deployments_url=>"https://api.github.com/repos/B-gann21/little-esty-shop/deployments",
      :created_at=>"2022-04-08T16:46:34Z",
      :updated_at=>"2022-04-17T03:04:12Z",
      :pushed_at=>"2022-04-19T02:49:20Z",
      :git_url=>"git://github.com/B-gann21/little-esty-shop.git",
      :ssh_url=>"git@github.com:B-gann21/little-esty-shop.git",
      :clone_url=>"https://github.com/B-gann21/little-esty-shop.git",
      :svn_url=>"https://github.com/B-gann21/little-esty-shop",
      :homepage=>"",
      :size=>1237,
      :stargazers_count=>2,
      :watchers_count=>2,
      :language=>"Ruby",
      :has_issues=>true,
      :has_projects=>true,
      :has_downloads=>true,
      :has_wiki=>true,
      :has_pages=>false,
      :forks_count=>0,
      :mirror_url=>nil,
      :archived=>false,
      :disabled=>false,
      :open_issues_count=>16,
      :license=>nil,
      :allow_forking=>true,
      :is_template=>false,
      :topics=>[],
      :visibility=>"public",
      :forks=>0,
      :open_issues=>16,
      :watchers=>2,
      :default_branch=>"main",
      :temp_clone_token=>nil,
      :parent=> {
        :id=>313663245,
        :node_id=>"MDEwOlJlcG9zaXRvcnkzMTM2NjMyNDU=",
        :name=>"little-esty-shop",
        :full_name=>"turingschool-examples/little-esty-shop",
        :private=>false,
        :owner=> {
          :login=>"turingschool-examples",
          :id=>8518346,
          :node_id=>"MDEyOk9yZ2FuaXphdGlvbjg1MTgzNDY=",
          :avatar_url=>"https://avatars.githubusercontent.com/u/8518346?v=4",
          :gravatar_id=>"",
          :url=>"https://api.github.com/users/turingschool-examples",
          :html_url=>"https://github.com/turingschool-examples",
          :followers_url=>"https://api.github.com/users/turingschool-examples/followers",
          :following_url=>"https://api.github.com/users/turingschool-examples/following{/other_user}",
          :gists_url=>"https://api.github.com/users/turingschool-examples/gists{/gist_id}",
          :starred_url=>"https://api.github.com/users/turingschool-examples/starred{/owner}{/repo}",
          :subscriptions_url=>"https://api.github.com/users/turingschool-examples/subscriptions",
          :organizations_url=>"https://api.github.com/users/turingschool-examples/orgs",
          :repos_url=>"https://api.github.com/users/turingschool-examples/repos",
          :events_url=>"https://api.github.com/users/turingschool-examples/events{/privacy}",
          :received_events_url=>"https://api.github.com/users/turingschool-examples/received_events",
          :type=>"Organization",
          :site_admin=>false
          }
        }
      }
  end

  it 'can create an object out of a large hash' do
    repo = GithubRepo.new(@data)
    expect(repo).to be_a(GithubRepo)
    expect(repo.name).to eq('B-gann21/little-esty-shop')
  end
end
